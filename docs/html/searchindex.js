Search.setIndex({"docnames": ["_autosummary/elfpy", "_autosummary/elfpy.agent", "_autosummary/elfpy.agent.Agent", "_autosummary/elfpy.markets", "_autosummary/elfpy.markets.Market", "_autosummary/elfpy.simulators", "_autosummary/elfpy.simulators.Simulator", "_autosummary/elfpy.types", "_autosummary/elfpy.types.AgentTradeResult", "_autosummary/elfpy.types.MarketAction", "_autosummary/elfpy.types.MarketActionType", "_autosummary/elfpy.types.MarketDeltas", "_autosummary/elfpy.types.MarketState", "_autosummary/elfpy.types.MarketTradeResult", "_autosummary/elfpy.types.Quantity", "_autosummary/elfpy.types.RandomSimulationVariables", "_autosummary/elfpy.types.SimulationState", "_autosummary/elfpy.types.StretchedTime", "_autosummary/elfpy.types.TokenType", "_autosummary/elfpy.types.TradeBreakdown", "_autosummary/elfpy.types.TradeResult", "_autosummary/elfpy.types.to_description", "_autosummary/elfpy.utils", "_autosummary/elfpy.utils.config", "_autosummary/elfpy.utils.config.AMMConfig", "_autosummary/elfpy.utils.config.Config", "_autosummary/elfpy.utils.config.MarketConfig", "_autosummary/elfpy.utils.config.SimulatorConfig", "_autosummary/elfpy.utils.config.get_random_variables", "_autosummary/elfpy.utils.config.setup_vault_apr", "_autosummary/elfpy.utils.outputs", "_autosummary/elfpy.utils.outputs.CustomEncoder", "_autosummary/elfpy.utils.outputs.annotate", "_autosummary/elfpy.utils.outputs.clear_axes", "_autosummary/elfpy.utils.outputs.clear_axis", "_autosummary/elfpy.utils.outputs.close_logging", "_autosummary/elfpy.utils.outputs.delete_log_file", "_autosummary/elfpy.utils.outputs.format_axis", "_autosummary/elfpy.utils.outputs.get_gridspec_subplots", "_autosummary/elfpy.utils.outputs.plot_longs_and_shorts", "_autosummary/elfpy.utils.outputs.plot_market_lp_reserves", "_autosummary/elfpy.utils.outputs.plot_market_spot_price", "_autosummary/elfpy.utils.outputs.plot_pool_apr", "_autosummary/elfpy.utils.outputs.plot_wallet_returns", "_autosummary/elfpy.utils.outputs.setup_logging", "_autosummary/elfpy.utils.parse_config", "_autosummary/elfpy.utils.parse_config.load_and_parse_config_file", "_autosummary/elfpy.utils.parse_config.load_config_file", "_autosummary/elfpy.utils.parse_config.override_config_variables", "_autosummary/elfpy.utils.parse_config.parse_simulation_config", "_autosummary/elfpy.utils.parse_config.text_to_logging_level", "_autosummary/elfpy.utils.post_processing", "_autosummary/elfpy.utils.post_processing.aggregate_trade_data", "_autosummary/elfpy.utils.post_processing.compute_derived_variables", "_autosummary/elfpy.utils.post_processing.get_simulation_state_df", "_autosummary/elfpy.utils.price", "_autosummary/elfpy.utils.price.calc_apr_from_spot_price", "_autosummary/elfpy.utils.price.calc_spot_price_from_apr", "_autosummary/elfpy.utils.sim_utils", "_autosummary/elfpy.utils.sim_utils.get_init_lp_agent", "_autosummary/elfpy.utils.sim_utils.get_market", "_autosummary/elfpy.utils.sim_utils.get_pricing_model", "_autosummary/elfpy.utils.sim_utils.get_simulator", "_autosummary/elfpy.utils.sim_utils.override_random_variables", "_autosummary/elfpy.utils.time", "_autosummary/elfpy.utils.time.block_number_to_datetime", "_autosummary/elfpy.utils.time.current_datetime", "_autosummary/elfpy.utils.time.days_to_time_remaining", "_autosummary/elfpy.utils.time.get_yearfrac_remaining", "_autosummary/elfpy.utils.time.norm_days", "_autosummary/elfpy.utils.time.stretch_time", "_autosummary/elfpy.utils.time.time_to_days_remaining", "_autosummary/elfpy.utils.time.unnorm_days", "_autosummary/elfpy.utils.time.unstretch_time", "_autosummary/elfpy.utils.time.yearfrac_as_datetime", "_autosummary/elfpy.wallet", "_autosummary/elfpy.wallet.Long", "_autosummary/elfpy.wallet.Short", "_autosummary/elfpy.wallet.Wallet", "api", "index"], "filenames": ["_autosummary/elfpy.rst", "_autosummary/elfpy.agent.rst", "_autosummary/elfpy.agent.Agent.rst", "_autosummary/elfpy.markets.rst", "_autosummary/elfpy.markets.Market.rst", "_autosummary/elfpy.simulators.rst", "_autosummary/elfpy.simulators.Simulator.rst", "_autosummary/elfpy.types.rst", "_autosummary/elfpy.types.AgentTradeResult.rst", "_autosummary/elfpy.types.MarketAction.rst", "_autosummary/elfpy.types.MarketActionType.rst", "_autosummary/elfpy.types.MarketDeltas.rst", "_autosummary/elfpy.types.MarketState.rst", "_autosummary/elfpy.types.MarketTradeResult.rst", "_autosummary/elfpy.types.Quantity.rst", "_autosummary/elfpy.types.RandomSimulationVariables.rst", "_autosummary/elfpy.types.SimulationState.rst", "_autosummary/elfpy.types.StretchedTime.rst", "_autosummary/elfpy.types.TokenType.rst", "_autosummary/elfpy.types.TradeBreakdown.rst", "_autosummary/elfpy.types.TradeResult.rst", "_autosummary/elfpy.types.to_description.rst", "_autosummary/elfpy.utils.rst", "_autosummary/elfpy.utils.config.rst", "_autosummary/elfpy.utils.config.AMMConfig.rst", "_autosummary/elfpy.utils.config.Config.rst", "_autosummary/elfpy.utils.config.MarketConfig.rst", "_autosummary/elfpy.utils.config.SimulatorConfig.rst", "_autosummary/elfpy.utils.config.get_random_variables.rst", "_autosummary/elfpy.utils.config.setup_vault_apr.rst", "_autosummary/elfpy.utils.outputs.rst", "_autosummary/elfpy.utils.outputs.CustomEncoder.rst", "_autosummary/elfpy.utils.outputs.annotate.rst", "_autosummary/elfpy.utils.outputs.clear_axes.rst", "_autosummary/elfpy.utils.outputs.clear_axis.rst", "_autosummary/elfpy.utils.outputs.close_logging.rst", "_autosummary/elfpy.utils.outputs.delete_log_file.rst", "_autosummary/elfpy.utils.outputs.format_axis.rst", "_autosummary/elfpy.utils.outputs.get_gridspec_subplots.rst", "_autosummary/elfpy.utils.outputs.plot_longs_and_shorts.rst", "_autosummary/elfpy.utils.outputs.plot_market_lp_reserves.rst", "_autosummary/elfpy.utils.outputs.plot_market_spot_price.rst", "_autosummary/elfpy.utils.outputs.plot_pool_apr.rst", "_autosummary/elfpy.utils.outputs.plot_wallet_returns.rst", "_autosummary/elfpy.utils.outputs.setup_logging.rst", "_autosummary/elfpy.utils.parse_config.rst", "_autosummary/elfpy.utils.parse_config.load_and_parse_config_file.rst", "_autosummary/elfpy.utils.parse_config.load_config_file.rst", "_autosummary/elfpy.utils.parse_config.override_config_variables.rst", "_autosummary/elfpy.utils.parse_config.parse_simulation_config.rst", "_autosummary/elfpy.utils.parse_config.text_to_logging_level.rst", "_autosummary/elfpy.utils.post_processing.rst", "_autosummary/elfpy.utils.post_processing.aggregate_trade_data.rst", "_autosummary/elfpy.utils.post_processing.compute_derived_variables.rst", "_autosummary/elfpy.utils.post_processing.get_simulation_state_df.rst", "_autosummary/elfpy.utils.price.rst", "_autosummary/elfpy.utils.price.calc_apr_from_spot_price.rst", "_autosummary/elfpy.utils.price.calc_spot_price_from_apr.rst", "_autosummary/elfpy.utils.sim_utils.rst", "_autosummary/elfpy.utils.sim_utils.get_init_lp_agent.rst", "_autosummary/elfpy.utils.sim_utils.get_market.rst", "_autosummary/elfpy.utils.sim_utils.get_pricing_model.rst", "_autosummary/elfpy.utils.sim_utils.get_simulator.rst", "_autosummary/elfpy.utils.sim_utils.override_random_variables.rst", "_autosummary/elfpy.utils.time.rst", "_autosummary/elfpy.utils.time.block_number_to_datetime.rst", "_autosummary/elfpy.utils.time.current_datetime.rst", "_autosummary/elfpy.utils.time.days_to_time_remaining.rst", "_autosummary/elfpy.utils.time.get_yearfrac_remaining.rst", "_autosummary/elfpy.utils.time.norm_days.rst", "_autosummary/elfpy.utils.time.stretch_time.rst", "_autosummary/elfpy.utils.time.time_to_days_remaining.rst", "_autosummary/elfpy.utils.time.unnorm_days.rst", "_autosummary/elfpy.utils.time.unstretch_time.rst", "_autosummary/elfpy.utils.time.yearfrac_as_datetime.rst", "_autosummary/elfpy.wallet.rst", "_autosummary/elfpy.wallet.Long.rst", "_autosummary/elfpy.wallet.Short.rst", "_autosummary/elfpy.wallet.Wallet.rst", "api.rst", "index.rst"], "titles": ["elfpy", "elfpy.agent", "elfpy.agent.Agent", "elfpy.markets", "elfpy.markets.Market", "elfpy.simulators", "elfpy.simulators.Simulator", "elfpy.types", "elfpy.types.AgentTradeResult", "elfpy.types.MarketAction", "elfpy.types.MarketActionType", "elfpy.types.MarketDeltas", "elfpy.types.MarketState", "elfpy.types.MarketTradeResult", "elfpy.types.Quantity", "elfpy.types.RandomSimulationVariables", "elfpy.types.SimulationState", "elfpy.types.StretchedTime", "elfpy.types.TokenType", "elfpy.types.TradeBreakdown", "elfpy.types.TradeResult", "elfpy.types.to_description", "elfpy.utils", "elfpy.utils.config", "elfpy.utils.config.AMMConfig", "elfpy.utils.config.Config", "elfpy.utils.config.MarketConfig", "elfpy.utils.config.SimulatorConfig", "elfpy.utils.config.get_random_variables", "elfpy.utils.config.setup_vault_apr", "elfpy.utils.outputs", "elfpy.utils.outputs.CustomEncoder", "elfpy.utils.outputs.annotate", "elfpy.utils.outputs.clear_axes", "elfpy.utils.outputs.clear_axis", "elfpy.utils.outputs.close_logging", "elfpy.utils.outputs.delete_log_file", "elfpy.utils.outputs.format_axis", "elfpy.utils.outputs.get_gridspec_subplots", "elfpy.utils.outputs.plot_longs_and_shorts", "elfpy.utils.outputs.plot_market_lp_reserves", "elfpy.utils.outputs.plot_market_spot_price", "elfpy.utils.outputs.plot_pool_apr", "elfpy.utils.outputs.plot_wallet_returns", "elfpy.utils.outputs.setup_logging", "elfpy.utils.parse_config", "elfpy.utils.parse_config.load_and_parse_config_file", "elfpy.utils.parse_config.load_config_file", "elfpy.utils.parse_config.override_config_variables", "elfpy.utils.parse_config.parse_simulation_config", "elfpy.utils.parse_config.text_to_logging_level", "elfpy.utils.post_processing", "elfpy.utils.post_processing.aggregate_trade_data", "elfpy.utils.post_processing.compute_derived_variables", "elfpy.utils.post_processing.get_simulation_state_df", "elfpy.utils.price", "elfpy.utils.price.calc_apr_from_spot_price", "elfpy.utils.price.calc_spot_price_from_apr", "elfpy.utils.sim_utils", "elfpy.utils.sim_utils.get_init_lp_agent", "elfpy.utils.sim_utils.get_market", "elfpy.utils.sim_utils.get_pricing_model", "elfpy.utils.sim_utils.get_simulator", "elfpy.utils.sim_utils.override_random_variables", "elfpy.utils.time", "elfpy.utils.time.block_number_to_datetime", "elfpy.utils.time.current_datetime", "elfpy.utils.time.days_to_time_remaining", "elfpy.utils.time.get_yearfrac_remaining", "elfpy.utils.time.norm_days", "elfpy.utils.time.stretch_time", "elfpy.utils.time.time_to_days_remaining", "elfpy.utils.time.unnorm_days", "elfpy.utils.time.unstretch_time", "elfpy.utils.time.yearfrac_as_datetime", "elfpy.wallet", "elfpy.wallet.Long", "elfpy.wallet.Short", "elfpy.wallet.Wallet", "API", "Welcome to elfpy\u2019s documentation!"], "terms": {"packag": 0, "modul": [0, 22, 80], "implement": [1, 2, 58, 75, 79], "abstract": [1, 2, 75, 79], "class": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 23, 24, 25, 26, 27, 30, 31, 45, 46, 48, 49, 51, 53, 54, 58, 59, 63, 75, 76, 77, 78, 79], "control": [1, 2, 75, 79], "behavior": [1, 2, 30, 31, 75, 79], "wallet_address": [1, 2, 3, 4, 7, 9, 79], "budget": [1, 2, 79], "base": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 23, 24, 25, 26, 27, 30, 31, 43, 55, 56, 57, 64, 65, 73, 75, 76, 77, 78, 79], "object": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 19, 20, 23, 24, 25, 26, 27, 28, 29, 30, 31, 33, 34, 38, 45, 48, 49, 58, 59, 61, 75, 76, 77, 78, 79], "conduct": [1, 2, 79], "trade": [1, 2, 3, 4, 5, 6, 7, 8, 13, 16, 19, 20, 30, 39, 40, 41, 42, 43, 51, 52, 53, 54, 58, 60, 79], "market": [1, 2, 5, 6, 7, 9, 10, 11, 12, 13, 16, 20, 23, 25, 26, 30, 39, 40, 41, 42, 45, 47, 49, 58, 59, 60, 64, 68, 74, 79], "ha": [1, 2, 3, 4, 30, 39, 40, 41, 42, 43, 64, 68, 73, 75, 77, 79], "i": [1, 2, 3, 4, 5, 6, 23, 29, 30, 31, 39, 43, 51, 53, 54, 58, 59, 60, 75, 76, 77, 79], "dict": [1, 2, 7, 21, 23, 26, 31, 45, 47, 48, 49, 58, 63, 75, 78, 79], "kei": [1, 2, 5, 6, 7, 16, 31, 45, 48, 51, 52, 53, 54, 58, 63, 79], "date": [1, 2, 79], "valu": [1, 2, 3, 4, 5, 6, 7, 10, 11, 17, 18, 23, 28, 29, 58, 60, 63, 64, 70, 72, 73, 79], "an": [1, 2, 3, 4, 7, 10, 12, 14, 16, 30, 31, 39, 40, 41, 42, 43, 45, 50, 58, 62, 75, 76, 77, 79], "int": [1, 2, 3, 4, 5, 6, 7, 9, 23, 26, 27, 30, 31, 38, 39, 43, 44, 45, 50, 64, 65, 75, 78, 79], "how": [1, 2, 3, 4, 58, 59, 60, 79], "mani": [1, 2, 79], "token": [1, 2, 3, 4, 7, 18, 30, 43, 58, 60, 64, 68, 75, 78, 79], "thei": [1, 2, 3, 4, 79], "have": [1, 2, 3, 4, 5, 6, 30, 38, 58, 60, 79], "thi": [1, 2, 3, 4, 5, 6, 7, 19, 20, 30, 31, 39, 43, 58, 60, 75, 78, 79], "type": [1, 2, 3, 4, 5, 6, 23, 26, 28, 29, 30, 33, 34, 36, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 78, 79], "rng": [1, 2, 5, 6, 23, 27, 79], "random": [1, 2, 5, 6, 7, 15, 23, 27, 28, 58, 63, 79], "number": [1, 2, 3, 4, 5, 6, 23, 28, 30, 38, 64, 65, 79], "gener": [1, 2, 5, 6, 23, 27, 28, 79], "us": [1, 2, 3, 4, 5, 6, 7, 15, 23, 28, 31, 58, 60, 62, 64, 67, 69, 70, 71, 72, 73, 79], "variou": [1, 2, 79], "simul": [1, 2, 3, 4, 7, 15, 16, 23, 25, 27, 28, 30, 39, 40, 41, 42, 43, 45, 47, 49, 51, 53, 54, 58, 59, 60, 62, 63, 64, 65, 74, 79], "function": [1, 2, 3, 4, 5, 6, 7, 23, 30, 31, 45, 46, 51, 55, 58, 64, 79], "numpi": [1, 2, 23, 27, 79], "_gener": [1, 2, 23, 27, 79], "id": [1, 2, 5, 6, 79], "identifi": [1, 2, 79], "specif": [1, 2, 3, 4, 5, 6, 7, 9, 23, 24, 26, 27, 31, 79], "amount": [1, 2, 3, 4, 7, 14, 20, 58, 59, 64, 67, 69, 70, 71, 72, 73, 75, 76, 77, 79], "asset": [1, 2, 30, 43, 55, 56, 75, 78, 79], "avail": [1, 2, 31, 79], "spend": [1, 2, 79], "float": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 17, 19, 23, 24, 26, 27, 31, 55, 56, 57, 58, 59, 60, 64, 65, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79], "last_update_spend": [1, 2, 79], "time": [1, 2, 3, 4, 5, 6, 7, 17, 30, 39, 43, 55, 56, 57, 58, 60, 79], "rel": [1, 2, 64, 68, 79], "yearfrac": [1, 2, 55, 56, 64, 74, 79], "when": [1, 2, 3, 4, 75, 78, 79], "last": [1, 2, 79], "made": [1, 2, 79], "track": [1, 2, 5, 79], "pnl": [1, 2, 79], "product_of_time_and_bas": [1, 2, 79], "helper": [1, 2, 3, 4, 7, 21, 30, 51, 58, 64, 79], "attribut": [1, 2, 3, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 24, 25, 26, 27, 31, 75, 76, 77, 78, 79], "over": [1, 2, 30, 39, 43, 51, 52, 79], "wallet": [1, 2, 3, 4, 5, 6, 7, 16, 30, 43, 79], "which": [1, 2, 3, 4, 5, 6, 30, 31, 33, 34, 37, 51, 53, 54, 64, 65, 68, 73, 74, 75, 78, 79], "": [1, 2, 3, 4, 7, 16, 30, 36, 64, 68, 75, 78, 79], "balanc": [1, 2, 75, 76, 77, 79], "create_agent_act": [1, 2, 79], "action_typ": [1, 2, 3, 4, 7, 9, 79], "marketactiontyp": [1, 2, 3, 4, 7, 9, 79], "trade_amount": [1, 2, 3, 4, 7, 9, 79], "mint_tim": [1, 2, 3, 4, 7, 9, 64, 68, 79], "0": [1, 2, 3, 4, 7, 9, 11, 12, 23, 24, 26, 27, 31, 55, 57, 58, 60, 64, 70, 72, 73, 75, 78, 79], "marketact": [1, 2, 3, 4, 5, 6, 7, 79], "creat": [1, 2, 7, 16, 79], "return": [1, 2, 3, 4, 5, 6, 7, 12, 16, 21, 23, 28, 29, 30, 31, 33, 34, 36, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 79], "repres": [1, 2, 79], "can": [1, 2, 3, 4, 5, 6, 7, 12, 31, 58, 61, 79], "make": [1, 2, 30, 33, 34, 79], "action": [1, 2, 3, 4, 7, 9, 10, 58, 59, 79], "self": [1, 2, 5, 6, 79], "list": [1, 2, 5, 6, 7, 15, 16, 23, 27, 29, 30, 31, 33, 58, 60, 62, 79], "execut": [1, 2, 3, 4, 5, 6, 7, 15, 79], "polici": [1, 2, 79], "get_max_long": [1, 2, 79], "approxim": [1, 2, 79], "maximum": [1, 2, 79], "amoun": [1, 2, 79], "long": [1, 2, 30, 39, 64, 69, 75, 78, 79], "given": [1, 2, 3, 4, 31, 55, 56, 64, 68, 79], "current": [1, 2, 3, 4, 5, 6, 55, 56, 57, 64, 65, 66, 74, 75, 78, 79], "condit": [1, 2, 3, 4, 79], "get_max_short": [1, 2, 79], "short": [1, 2, 3, 4, 30, 39, 58, 59, 75, 78, 79], "get_trade_list": [1, 2, 79], "comput": [1, 2, 3, 4, 5, 6, 7, 12, 20, 51, 52, 53, 54, 58, 59, 79], "update_spend": [1, 2, 79], "none": [1, 2, 3, 4, 5, 6, 7, 12, 15, 16, 30, 31, 33, 34, 36, 44, 58, 62, 79], "weight": [1, 2, 3, 4, 79], "averag": [1, 2, 79], "calcul": [1, 2, 55, 56, 57, 58, 59, 60, 64, 67, 70, 71, 72, 73, 79], "update_wallet": [1, 2, 79], "wallet_delta": [1, 2, 79], "updat": [1, 2, 3, 4, 5, 6, 7, 16, 20, 79], "get_liquidation_trad": [1, 2, 79], "get": [1, 2, 5, 6, 31, 58, 61, 64, 68, 79], "final": [1, 2, 5, 6, 79], "liquid": [1, 2, 3, 4, 5, 6, 58, 59, 60, 79], "posit": [1, 2, 55, 56, 75, 76, 77, 78, 79], "log_status_report": [1, 2, 79], "log": [1, 2, 3, 4, 30, 35, 44, 45, 50, 79], "user": [1, 2, 3, 4, 7, 8, 20, 23, 25, 45, 75, 79], "state": [1, 2, 3, 4, 5, 6, 7, 12, 16, 75, 78, 79], "log_final_report": [1, 2, 79], "report": [1, 2, 79], "method": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 19, 20, 24, 25, 26, 27, 30, 31, 76, 77, 78, 79], "paramet": [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 23, 24, 25, 26, 27, 28, 29, 30, 34, 38, 39, 40, 41, 42, 43, 44, 45, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79], "must": [1, 2, 3, 4, 5, 6, 45, 50, 79], "one": [1, 2, 58, 59, 79], "support": [1, 2, 79], "relev": [1, 2, 30, 38, 79], "were": [1, 2, 79], "mint": [1, 2, 3, 4, 58, 60, 64, 68, 79], "The": [1, 2, 3, 4, 5, 6, 7, 8, 10, 12, 13, 16, 17, 20, 31, 58, 59, 75, 76, 77, 78, 79], "contain": [1, 2, 3, 4, 5, 6, 7, 21, 23, 28, 30, 31, 38, 45, 47, 48, 49, 51, 52, 53, 54, 58, 62, 63, 79], "detail": [1, 2, 3, 4, 7, 20, 58, 59, 79], "about": [1, 2, 7, 20, 79], "meant": [1, 2, 79], "specifi": [1, 2, 7, 11, 31, 45, 48, 58, 63, 79], "from": [1, 2, 3, 4, 5, 6, 30, 31, 34, 55, 56, 57, 58, 59, 61, 64, 72, 79], "typic": [1, 2, 79], "would": [1, 2, 23, 29, 31, 55, 57, 79], "call": [1, 2, 30, 31, 33, 79], "determin": [1, 2, 58, 59, 79], "much": [1, 2, 3, 4, 58, 59, 60, 79], "enter": [1, 2, 79], "open": [1, 2, 3, 4, 58, 59, 75, 76, 77, 79], "bond": [1, 2, 3, 4, 55, 56, 57, 58, 59, 60, 75, 76, 77, 79], "get_trad": [1, 2, 79], "direct": [1, 2, 5, 6, 79], "chosen": [1, 2, 79], "logic": [1, 2, 3, 4, 79], "we": [1, 2, 3, 4, 7, 12, 79], "calcoutgivenin": [1, 2, 79], "becaus": [1, 2, 79], "know": [1, 2, 79], "want": [1, 2, 79], "care": [1, 2, 79], "less": [1, 2, 64, 68, 79], "exit": [1, 2, 79], "close": [1, 2, 3, 4, 30, 35, 79], "calcingivenout": [1, 2, 79], "what": [1, 2, 75, 78, 79], "pricing_model": [1, 2, 3, 4, 58, 60, 61, 79], "pricingmodel": [1, 2, 3, 4, 5, 6, 58, 60, 61, 79], "price": [1, 2, 3, 4, 5, 51, 52, 58, 60, 61, 79], "model": [1, 2, 3, 4, 5, 58, 60, 61, 79], "hold": [1, 2, 3, 4, 79], "It": [1, 2, 3, 4, 31, 79], "accord": [1, 2, 3, 4, 64, 72, 79], "pass": [1, 2, 58, 61, 79], "order": [1, 2, 5, 6, 79], "where": [1, 2, 79], "applic": [1, 2, 79], "__init__": [2, 4, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 24, 25, 26, 27, 31, 76, 77, 78], "set": [2, 5, 6, 7, 30, 44, 58, 59, 60, 75, 78, 79], "up": [2, 3, 4, 5, 6, 58, 75, 78, 79], "initi": [2, 23, 28, 58, 59, 60, 62, 63], "store": [3, 4, 5, 6, 23, 25, 75, 78, 79], "inform": [3, 7, 19, 20, 79], "interfac": [3, 79], "amm": [3, 4, 5, 6, 7, 12, 23, 24, 25, 45, 47, 49, 79], "market_st": [3, 4, 7, 16, 79], "marketst": [3, 4, 7, 16, 79], "share_reserv": [3, 4, 7, 12, 79], "bond_reserv": [3, 4, 7, 12, 79], "base_buff": [3, 4, 7, 12, 79], "bond_buff": [3, 4, 7, 12, 79], "lp_reserv": [3, 4, 7, 12, 79], "vault_apr": [3, 4, 5, 6, 7, 12, 15, 23, 26, 29, 58, 60, 79], "share_pric": [3, 4, 7, 12, 79], "1": [3, 4, 5, 6, 7, 12, 23, 24, 26, 27, 30, 37, 38, 58, 59, 64, 67, 70, 71, 72, 73, 79], "init_share_pric": [3, 4, 7, 12, 15, 58, 60, 79], "position_dur": [3, 4, 7, 16, 58, 60, 79], "stretchedtim": [3, 4, 7, 55, 56, 57, 79], "fee_perc": [3, 4, 7, 15, 16, 58, 59, 60, 79], "variabl": [3, 4, 5, 6, 7, 15, 16, 23, 28, 45, 48, 51, 53, 54, 58, 60, 62, 63, 75, 78, 79], "also": [3, 4, 79], "some": [3, 4, 51, 52, 53, 54, 79], "assess": [3, 4, 79], "rate": [3, 4, 79], "apr": [3, 4, 23, 29, 30, 41, 42, 55, 56, 57, 58, 59, 60, 79], "spot_pric": [3, 4, 7, 16, 79], "share": [3, 4, 58, 59, 60, 79], "reserv": [3, 4, 30, 40, 58, 59, 60, 79], "check_action_typ": [3, 4, 79], "pricing_model_nam": [3, 4, 23, 24, 79], "ensur": [3, 4, 31, 79], "agent": [3, 4, 5, 6, 7, 16, 30, 39, 40, 41, 42, 43, 58, 59, 60, 62, 75, 78, 79], "allow": [3, 4, 23, 29, 79], "see": [3, 4, 79], "all": [3, 4, 5, 6, 31, 79], "accept": [3, 4, 79], "perform": [3, 4, 7, 8, 13, 20, 58, 59, 79], "str": [3, 4, 5, 6, 7, 21, 23, 24, 27, 30, 31, 33, 34, 44, 45, 46, 47, 50, 58, 61, 79], "name": [3, 4, 58, 61, 79], "hyperdr": [3, 4, 23, 24, 58, 61, 79], "yieldspac": [3, 4, 58, 61, 79], "trade_and_upd": [3, 4, 79], "agent_act": [3, 4, 79], "check": [3, 4, 31, 79], "6": [3, 4, 58, 60, 79], "ar": [3, 4, 5, 6, 7, 20, 31, 58, 59, 60, 79], "being": [3, 4, 79], "handl": [3, 4, 79], "each": [3, 4, 5, 6, 7, 16, 30, 31, 33, 58, 59, 79], "case": [3, 4, 79], "open_long": [3, 4, 7, 10, 79], "close_long": [3, 4, 7, 10, 79], "open_short": [3, 4, 7, 10, 79], "close_short": [3, 4, 7, 10, 79], "add_liquid": [3, 4, 7, 10, 79], "new": [3, 4, 5, 6, 7, 16, 79], "delta": [3, 4, 7, 12, 20, 79], "its": [3, 4, 79], "pool": [3, 4, 55, 56, 57, 58, 59, 64, 67, 71, 79], "address": [3, 4, 75, 78, 79], "lp": [3, 4, 30, 40, 43, 58, 59, 62, 75, 78, 79], "fungibl": [3, 4, 79], "eas": [3, 4, 79], "remove_liquid": [3, 4, 7, 10, 79], "figur": [3, 4, 30, 38, 39, 40, 41, 42, 43, 79], "out": [3, 4, 79], "contribut": [3, 4, 79], "calcualt": [3, 4, 79], "fee": [3, 4, 7, 19, 20, 58, 59, 60, 75, 78, 79], "resolv": [3, 4, 79], "add": [3, 4, 7, 12, 30, 32, 79], "option": [3, 4, 5, 6, 7, 15, 23, 29, 30, 38, 44, 79], "update_market": [3, 4, 79], "market_delta": [3, 4, 79], "increment": [3, 4, 5, 6, 79], "member": [3, 4, 5, 6, 31, 45, 46, 48, 49, 51, 53, 54, 58, 63, 79], "reflect": [3, 4, 79], "marketdelta": [3, 4, 7, 12, 79], "properti": [3, 4, 7, 17, 75, 78, 79], "get_market_state_str": [3, 4, 79], "format": [3, 4, 5, 6, 7, 17, 30, 37, 64, 74, 79], "string": [3, 4, 5, 6, 30, 31, 45, 50, 79], "tick": [3, 4, 30, 34, 79], "delta_tim": [3, 4, 79], "need": [3, 4, 64, 70, 75, 78, 79], "margin": [3, 4, 75, 77, 79], "account": [3, 4, 58, 59, 79], "cover": [3, 4, 79], "worst": [3, 4, 79], "scenario": [3, 4, 79], "p": [3, 4, 79], "come": [3, 4, 79], "2": [3, 4, 79], "sourc": [3, 4, 79], "proce": [3, 4, 79], "your": [3, 4, 79], "sale": [3, 4, 79], "max": [3, 4, 79], "you": [3, 4, 31, 79], "depost": [3, 4, 79], "two": [3, 4, 79], "compon": [3, 4, 79], "both": [3, 4, 30, 37, 79], "yet": [3, 4, 79], "happili": [3, 4, 79], "unit": [3, 4, 7, 14, 55, 57, 64, 67, 70, 71, 73, 79], "so": [3, 4, 5, 6, 58, 60, 79], "follow": [3, 4, 79], "ident": [3, 4, 5, 6, 79], "total": [3, 4, 7, 20, 30, 39, 58, 59, 64, 68, 79], "deposit": [3, 4, 58, 59, 79], "face": [3, 4, 79], "guarante": [3, 4, 31, 79], "system": [3, 4, 79], "alwai": [3, 4, 79], "fulli": [3, 4, 79], "back": [3, 4, 79], "equal": [3, 4, 79], "tupl": [3, 4, 5, 6, 30, 31, 38, 79], "give": [3, 4, 79], "u": [3, 4, 79], "reduc": [3, 4, 79], "longer": [3, 4, 79], "same": [3, 4, 23, 29, 45, 48, 58, 63, 79], "drain": [3, 4, 79], "pai": [3, 4, 79], "bought": [3, 4, 79], "minu": [3, 4, 79], "cost": [3, 4, 79], "bui": [3, 4, 79], "d_base": [3, 4, 7, 8, 13, 79], "trade_result": [3, 4, 79], "user_result": [3, 4, 7, 20, 79], "neg": [3, 4, 31, 79], "more": [3, 4, 58, 59, 79], "take": [3, 4, 31, 79], "spec": [3, 4, 79], "turn": [3, 4, 79], "after": [3, 4, 7, 16, 23, 29, 79], "ad": [3, 4, 75, 78, 79], "remov": [3, 4, 79], "log_market_step_str": [3, 4, 79], "step": [3, 4, 79], "wrap": [5, 79], "experi": [5, 79], "config": [5, 6, 45, 46, 47, 48, 49, 58, 61, 62, 79], "random_simulation_vari": [5, 6, 79], "environ": [5, 6, 79], "output": [5, 6, 51, 53, 54, 58, 60, 79], "experiment": [5, 6, 79], "includ": [5, 6, 7, 19, 20, 79], "input": [5, 6, 45, 48, 50, 58, 61, 63, 79], "rang": [5, 6, 79], "To": [5, 6, 31, 58, 59, 79], "conjunct": [5, 6, 79], "util": [5, 6, 79], "randomsimulationvari": [5, 6, 7, 23, 28, 45, 48, 58, 62, 63, 79], "check_vault_apr": [5, 6, 79], "verifi": [5, 6, 79], "right": [5, 6, 79], "length": [5, 6, 23, 29, 64, 67, 79], "set_rng": [5, 6, 79], "assign": [5, 6, 23, 28, 79], "intern": [5, 6, 79], "instanti": [5, 6, 7, 16, 30, 39, 40, 41, 42, 43, 58, 59, 60, 61, 79], "forc": [5, 6, 79], "volum": [5, 6, 79], "across": [5, 6, 79], "run": [5, 6, 23, 28, 30, 39, 40, 41, 42, 43, 58, 62, 63, 79], "construct": [5, 6, 7, 21, 23, 29, 58, 62, 79], "np": [5, 6, 79], "default_rng": [5, 6, 79], "seed": [5, 6, 79], "log_config_vari": [5, 6, 79], "print": [5, 6, 31, 79], "get_simulation_state_str": [5, 6, 79], "state_str": [5, 6, 79], "__dict__": [5, 6, 79], "cast": [5, 6, 79], "separ": [5, 6, 30, 31, 79], "line": [5, 6, 79], "market_step_s": [5, 6, 7, 16, 79], "minimum": [5, 6, 79], "between": [5, 6, 58, 60, 64, 65, 72, 73, 79], "block": [5, 6, 64, 65, 79], "blocks_per_year": [5, 6, 79], "add_ag": [5, 6, 79], "agent_list": [5, 6, 79], "append": [5, 6, 7, 16, 79], "simulation_st": [5, 6, 51, 52, 53, 54, 79], "If": [5, 6, 30, 31, 36, 39, 43, 79], "alreadi": [5, 6, 79], "happen": [5, 6, 79], "indic": [5, 6, 79], "run_trade_numb": [5, 6, 7, 16, 79], "empti": [5, 6, 58, 59, 79], "prepend": [5, 6, 79], "still": [5, 6, 64, 73, 79], "easili": [5, 6, 79], "convert": [5, 6, 45, 50, 51, 53, 54, 64, 65, 67, 69, 71, 74, 75, 78, 79], "panda": [5, 6, 51, 52, 53, 54, 79], "datafram": [5, 6, 51, 52, 53, 54, 79], "A": [5, 6, 7, 17, 18, 19, 21, 58, 59, 79], "collect_and_execute_trad": [5, 6, 79], "last_block_in_sim": [5, 6, 79], "fals": [5, 6, 30, 31, 79], "them": [5, 6, 79], "bool": [5, 6, 23, 27, 30, 39, 43, 79], "true": [5, 6, 23, 27, 30, 31, 35, 39, 43, 79], "occur": [5, 6, 79], "collect_trad": [5, 6, 79], "agent_id": [5, 6, 79], "collect": [5, 6, 7, 20, 58, 59, 60, 79], "provid": [5, 6, 55, 56, 57, 58, 59, 64, 65, 69, 70, 72, 73, 74, 79], "ani": [5, 6, 30, 33, 34, 38, 58, 60, 79], "These": [5, 6, 79], "correspond": [5, 6, 45, 48, 50, 58, 63, 79], "regist": [5, 6, 79], "associ": [5, 6, 79], "collect_liquidation_trad": [5, 6, 79], "execute_trad": [5, 6, 79], "run_simul": [5, 6, 79], "dictionari": [5, 6, 31, 45, 47, 48, 49, 51, 53, 54, 58, 63, 79], "primari": [5, 6, 79], "loop": [5, 6, 79], "group": [5, 6, 79], "dai": [5, 6, 7, 16, 17, 30, 31, 40, 41, 42, 51, 52, 58, 60, 64, 67, 69, 71, 72, 79], "num_trading_dai": [5, 6, 7, 16, 23, 27, 29, 79], "There": [5, 6, 79], "doe": [5, 6, 79], "update_simulation_st": [5, 6, 79], "common": [7, 12, 79], "throughtout": [7, 79], "codebas": [7, 79], "to_descript": [7, 79], "descript": [7, 21, 45, 50, 58, 59, 79], "dataclass": [7, 21, 23, 28, 45, 46, 48, 49, 58, 62, 63, 75, 78, 79], "metadata": [7, 21, 79], "tokentyp": [7, 14, 79], "enum": [7, 10, 18, 79], "pt": [7, 18, 79], "descriptor": [7, 10, 79], "quantiti": [7, 12, 30, 43, 79], "time_stretch": [7, 17, 64, 67, 70, 71, 73, 79], "stretch": [7, 17, 58, 60, 64, 67, 70, 71, 73, 79], "normalized_tim": [7, 17, 79], "normal": [7, 17, 64, 67, 69, 70, 71, 72, 73, 79], "stretched_tim": [7, 17, 64, 73, 79], "constant": [7, 17, 64, 67, 70, 71, 72, 73, 79], "d_base_asset": [7, 11, 79], "d_token_asset": [7, 11, 79], "d_base_buff": [7, 11, 79], "d_bond_buff": [7, 11, 79], "d_lp_reserv": [7, 11, 79], "d_share_pric": [7, 11, 79], "chang": [7, 11, 45, 48, 58, 63, 79], "todo": [7, 12, 58, 60, 75, 78, 79], "like": [7, 12, 30, 32, 79], "total_suppli": [7, 12, 79], "apply_delta": [7, 12, 79], "appli": [7, 12, 20, 79], "agenttraderesult": [7, 20, 79], "d_bond": [7, 8, 13, 79], "result": [7, 8, 13, 20, 58, 59, 79], "markettraderesult": [7, 20, 79], "tradebreakdown": [7, 20, 79], "without_fee_or_slippag": [7, 19, 79], "with_fe": [7, 19, 79], "without_fe": [7, 19, 79], "granular": [7, 19, 20, 79], "breakdown": [7, 19, 20, 79], "relat": [7, 19, 79], "slippag": [7, 19, 58, 59, 79], "traderesult": [7, 79], "market_result": [7, 20, 79], "addition": [7, 20, 79], "should": [7, 20, 31, 58, 62, 64, 68, 73, 79], "target_liquid": [7, 15, 16, 58, 59, 79], "target_pool_apr": [7, 15, 58, 59, 60, 79], "init_vault_ag": [7, 15, 16, 23, 27, 79], "dure": [7, 15, 31, 79], "setup": [7, 15, 30, 38, 44, 58, 60, 79], "simulationst": [7, 51, 53, 54, 79], "model_nam": [7, 16, 51, 52, 58, 61, 79], "factori": [7, 16, 23, 25, 26, 27, 75, 78, 79], "run_numb": [7, 16, 79], "simulation_start_tim": [7, 16, 79], "block_numb": [7, 16, 64, 65, 79], "daily_block_numb": [7, 16, 79], "block_timestamp": [7, 16, 79], "current_market_datetim": [7, 16, 79], "current_market_yearfrac": [7, 16, 79], "floor_fe": [7, 16, 23, 24, 79], "base_asset_pric": [7, 16, 23, 26, 79], "pool_apr": [7, 16, 79], "num_blocks_per_dai": [7, 16, 23, 27, 79], "update_market_st": [7, 16, 79], "entri": [7, 16, 79], "copi": [7, 16, 79], "update_agent_wallet": [7, 16, 79], "arg": [10, 18], "kwarg": [10, 18, 30, 38], "structur": [23, 31], "marketconfig": [23, 25, 45, 46, 49], "min_target_liquid": [23, 26], "1000000": [23, 26], "max_target_liquid": [23, 26], "10000000": [23, 26], "min_target_volum": [23, 26], "001": [23, 26], "max_target_volum": [23, 26], "01": [23, 26], "min_vault_ag": [23, 26], "max_vault_ag": [23, 26], "2000": [23, 26], "union": [23, 26], "callabl": [23, 26, 29], "ammconfig": [23, 25, 45, 46, 49], "min_fe": [23, 24], "max_fe": [23, 24], "5": [23, 24, 55, 57, 58, 60], "min_pool_apr": [23, 24], "02": [23, 24], "max_pool_apr": [23, 24], "9": [23, 24], "simulatorconfig": [23, 25, 45, 46, 49], "180": [23, 27], "7200": [23, 27], "token_dur": [23, 27, 58, 60, 64, 68], "2465753424657534": [23, 27], "shuffle_us": [23, 27], "agent_polici": [23, 27], "init_lp": [23, 27, 30, 39, 43, 58, 60], "compound_vault_apr": [23, 27], "logging_level": [23, 27], "info": [23, 27, 45, 50], "precis": [23, 27], "64": [23, 27], "random_se": [23, 27], "data": [23, 25, 31], "setup_vault_apr": 23, "note": [23, 29, 58, 60], "infinit": [23, 29, 31], "small": [23, 29, 58, 59], "modif": [23, 29], "defin": [23, 28, 29, 45, 48], "get_random_vari": 23, "deliv": 30, "plot_market_lp_reserv": 30, "plot": [30, 39, 40, 41, 42, 43], "per": [30, 40, 41, 42, 58, 60], "plot_market_spot_pric": 30, "plot_pool_apr": 30, "plot_longs_and_short": 30, "exclude_first_ag": [30, 39, 43], "xtick_step": [30, 39, 43], "10": [30, 39, 43], "exclud": [30, 39, 43], "first": [30, 39, 43, 58, 59], "usual": [30, 39, 43], "plot_wallet_return": 30, "get_gridspec_subplot": 30, "nrow": [30, 38], "ncol": [30, 38], "ax": [30, 33, 34, 38], "reason": [30, 38], "space": [30, 38], "row": [30, 38], "column": [30, 38, 51, 52, 53, 54], "keyword": [30, 38], "argument": [30, 38, 58, 61], "suppli": [30, 38], "matplotlib": [30, 33, 34, 38], "gridspec": [30, 38], "clear_axi": [30, 33], "axi": [30, 33, 34, 37], "spine": [30, 33, 34], "clear": [30, 33, 34], "label": [30, 32, 34], "proplot": [30, 34], "color": [30, 33, 34, 37], "default": [30, 31, 33, 34, 44, 58, 62, 64, 67, 69, 70, 71, 72, 73], "invis": [30, 33, 34], "_ax": [30, 33, 34], "clear_ax": 30, "iter": [30, 33, 58, 59], "param": [30, 33, 45, 46, 47, 48, 49], "format_axi": 30, "axis_handl": [30, 32, 37], "xlabel": [30, 37], "fontsiz": [30, 37], "18": [30, 37], "linestyl": [30, 37], "linewidth": [30, 37], "grei": [30, 37], "y": [30, 37], "annot": 30, "text": [30, 32], "major_offset": [30, 32], "minor_offset": [30, 32], "val": [30, 32], "legend": [30, 32], "delete_log_fil": 30, "logger": [30, 36], "handler": [30, 35, 36, 44], "file": [30, 36, 45, 46, 47, 49], "delet": [30, 36], "underli": [30, 36], "setup_log": 30, "log_filenam": [30, 44], "max_byt": [30, 44], "2000000": [30, 44], "log_level": [30, 44], "20": [30, 44], "close_log": 30, "delete_log": [30, 35], "test": [30, 31, 35], "customencod": 30, "skipkei": [30, 31], "ensure_ascii": [30, 31], "check_circular": [30, 31], "allow_nan": [30, 31], "sort_kei": [30, 31], "indent": [30, 31], "jsonencod": [30, 31], "custom": [30, 31], "encod": [30, 31], "json": [30, 31], "dump": [30, 31], "o": [30, 31], "overrid": [30, 31, 58, 63], "constructor": 31, "sensibl": 31, "typeerror": 31, "attempt": 31, "item": 31, "simpli": 31, "skip": 31, "incom": 31, "non": 31, "ascii": 31, "charact": 31, "escap": 31, "circular": 31, "refer": 31, "prevent": 31, "recurs": 31, "caus": 31, "recursionerror": 31, "otherwis": 31, "place": 31, "nan": 31, "infin": 31, "compliant": 31, "consist": 31, "most": 31, "javascript": 31, "decod": 31, "valueerror": 31, "sort": 31, "regress": 31, "serial": 31, "compar": 31, "basi": 31, "integ": [31, 45, 50], "arrai": 31, "element": [31, 58, 59], "pretti": 31, "level": [31, 45, 50, 58, 59], "onli": 31, "insert": 31, "newlin": 31, "compact": 31, "represent": 31, "item_separ": 31, "key_separ": 31, "elimin": 31, "whitespac": 31, "t": [31, 58, 60], "version": 31, "rais": 31, "python": 31, "import": 31, "foo": 31, "bar": 31, "baz": 31, "iterencod": 31, "_one_shot": 31, "yield": [31, 58, 60], "For": 31, "exampl": [31, 55, 57], "chunk": 31, "bigobject": 31, "mysocket": 31, "write": 31, "pars": [45, 46, 49], "load": [45, 46, 47], "toml": [45, 46, 47, 49], "load_and_parse_config_fil": 45, "config_fil": [45, 46, 47], "wrapper": [45, 46], "absolut": [45, 46, 47], "path": [45, 46, 47], "nest": [45, 46, 47, 49], "load_config_fil": 45, "config_dict": [45, 47, 49], "parse_simulation_config": 45, "text_to_logging_level": 45, "logging_text": [45, 50], "debug": [45, 50], "warn": [45, 50], "error": [45, 50], "critic": [45, 50], "override_config_vari": 45, "override_dict": [45, 48, 58, 63], "replac": [45, 48], "exist": [45, 48], "ones": [45, 48], "field": [45, 48, 58, 63], "post": 51, "process": 51, "get_simulation_state_df": 51, "well": [51, 52, 53, 54], "compute_derived_vari": 51, "deriv": [51, 53], "aggregate_trade_data": 51, "aggreg": [51, 52], "mean": [51, 52], "trades_agg": [51, 52], "keep": [51, 52], "spot": [51, 52, 55, 56, 57], "calc_apr_from_spot_pric": 55, "time_remain": [55, 56, 57, 64, 71], "decim": [55, 56, 57, 58, 60], "remain": [55, 56, 57, 64, 67, 68, 71], "durat": [55, 56, 57, 58, 60, 64, 68], "term": [55, 56, 57, 64, 67, 68, 70, 71, 73], "normalized_time_remain": [55, 56], "until": [55, 56, 57, 58, 60, 64, 67, 68, 71], "matur": [55, 56, 57, 64, 67, 68, 71], "calc_spot_price_from_apr": 55, "fix": [55, 57], "05": [55, 57], "get_simul": 58, "random_sim_var": [58, 62], "sane": [58, 62], "get_init_lp_ag": 58, "seed_liquid": [58, 59], "requir": [58, 59], "achiev": [58, 59], "target": [58, 59, 60, 63], "hit": [58, 59], "desir": [58, 59, 61], "ratio": [58, 59], "larger": [58, 59], "estim": [58, 59], "due": [58, 59], "adjust": [58, 59], "differ": [58, 59], "next": [58, 59], "monoton": [58, 59], "decreas": [58, 59], "sinc": [58, 59, 64, 65, 74], "diminish": [58, 59], "addit": [58, 59], "here": [58, 59], "http": [58, 59], "github": [58, 59], "com": [58, 59], "fi": [58, 59], "elf": [58, 59], "pull": [58, 59], "136": [58, 59], "issuecom": [58, 59], "1405922764": [58, 59], "lper": [58, 59, 60], "within": [58, 59], "1e": [58, 59], "15": [58, 59], "13": [58, 59], "init_lp_ag": [58, 59], "get_market": 58, "explicitli": [58, 60], "portion": [58, 60], "express": [58, 60], "renam": [58, 60], "doesn": [58, 60], "percent": [58, 60], "expiri": [58, 60], "fraction": [58, 60, 64, 68, 69, 74], "year": [58, 60, 64, 68, 69, 74], "e": [58, 60, 64, 74], "g": [58, 60, 64, 74], "month": [58, 60], "valut": [58, 60], "bear": [58, 60], "vault": [58, 60], "without": [58, 60], "get_pricing_model": 58, "match": [58, 61], "override_random_vari": 58, "random_vari": [58, 63], "current_datetim": 64, "utc": [64, 66], "datetim": [64, 65, 66, 74], "block_number_to_datetim": 64, "start_tim": [64, 65, 74], "time_between_block": [64, 65], "start": [64, 65, 74], "timestamp": [64, 65, 74], "second": [64, 65], "wa": [64, 65, 68, 73], "valid": [64, 65], "yearfrac_as_datetim": 64, "plu": [64, 74], "get_yearfrac_remain": 64, "market_tim": [64, 68], "elaps": [64, 68], "question": [64, 68], "than": [64, 68], "left": [64, 67, 68, 71], "norm_dai": 64, "normalizing_const": [64, 67, 69, 71, 72], "365": [64, 67, 69, 71, 72], "assumpt": [64, 69], "scale": [64, 69], "factor": [64, 67, 69, 71, 72, 73], "stretch_tim": 64, "unnorm_dai": 64, "normed_dai": [64, 72], "unstretch_tim": 64, "unstretch": [64, 73], "been": [64, 73], "days_to_time_remain": 64, "days_remain": [64, 67], "time_to_days_remain": 64, "lp_token": [75, 78, 79], "fees_paid": [75, 78, 79], "trader": [75, 78, 79], "held": [75, 78, 79], "paid": [75, 78, 79], "public": [75, 78, 79], "instead": [75, 78, 79], "elfpi": 79, "index": 80, "search": 80, "page": 80}, "objects": {"": [[0, 0, 0, "-", "elfpy"]], "elfpy": [[79, 0, 0, "-", "agent"], [79, 0, 0, "-", "markets"], [79, 0, 0, "-", "simulators"], [79, 0, 0, "-", "types"], [79, 0, 0, "-", "utils"], [79, 0, 0, "-", "wallet"]], "elfpy.agent": [[79, 1, 1, "", "Agent"]], "elfpy.agent.Agent": [[2, 2, 1, "", "__init__"], [79, 2, 1, "id1", "action"], [79, 3, 1, "", "budget"], [79, 2, 1, "id0", "create_agent_action"], [79, 2, 1, "id5", "get_liquidation_trades"], [79, 2, 1, "id2", "get_max_long"], [79, 2, 1, "id3", "get_max_short"], [79, 2, 1, "", "get_trade_list"], [79, 2, 1, "", "get_trades"], [79, 3, 1, "", "last_update_spend"], [79, 2, 1, "id7", "log_final_report"], [79, 2, 1, "id6", "log_status_report"], [79, 3, 1, "", "market"], [79, 3, 1, "", "product_of_time_and_base"], [79, 3, 1, "", "rng"], [79, 2, 1, "", "update_spend"], [79, 2, 1, "id4", "update_wallet"], [79, 3, 1, "", "wallet"], [79, 3, 1, "", "wallet_address"]], "elfpy.markets": [[79, 1, 1, "", "Market"]], "elfpy.markets.Market": [[4, 2, 1, "", "__init__"], [79, 2, 1, "", "add_liquidity"], [79, 2, 1, "", "check_action_type"], [79, 2, 1, "", "close_long"], [79, 2, 1, "", "close_short"], [79, 2, 1, "", "get_market_state_string"], [79, 2, 1, "", "log_market_step_string"], [79, 2, 1, "", "open_long"], [79, 2, 1, "", "open_short"], [79, 4, 1, "", "rate"], [79, 2, 1, "", "remove_liquidity"], [79, 4, 1, "", "spot_price"], [79, 2, 1, "", "tick"], [79, 2, 1, "", "trade_and_update"], [79, 2, 1, "", "update_market"]], "elfpy.simulators": [[79, 1, 1, "", "Simulator"]], "elfpy.simulators.Simulator": [[6, 2, 1, "", "__init__"], [79, 2, 1, "", "add_agents"], [79, 2, 1, "", "check_vault_apr"], [79, 2, 1, "", "collect_and_execute_trades"], [79, 2, 1, "", "collect_liquidation_trades"], [79, 2, 1, "", "collect_trades"], [79, 2, 1, "", "execute_trades"], [79, 2, 1, "", "get_simulation_state_string"], [79, 2, 1, "", "log_config_variables"], [79, 2, 1, "", "market_step_size"], [79, 2, 1, "", "run_simulation"], [79, 2, 1, "", "set_rng"], [79, 2, 1, "", "update_simulation_state"]], "elfpy.types": [[79, 1, 1, "", "AgentTradeResult"], [79, 1, 1, "", "MarketAction"], [79, 1, 1, "", "MarketActionType"], [79, 1, 1, "", "MarketDeltas"], [79, 1, 1, "", "MarketState"], [79, 1, 1, "", "MarketTradeResult"], [79, 1, 1, "", "Quantity"], [79, 1, 1, "", "RandomSimulationVariables"], [79, 1, 1, "", "SimulationState"], [79, 1, 1, "", "StretchedTime"], [79, 1, 1, "", "TokenType"], [79, 1, 1, "", "TradeBreakdown"], [79, 1, 1, "", "TradeResult"], [79, 5, 1, "", "to_description"]], "elfpy.types.AgentTradeResult": [[8, 2, 1, "", "__init__"], [79, 3, 1, "", "d_base"], [79, 3, 1, "", "d_bonds"]], "elfpy.types.MarketAction": [[9, 2, 1, "", "__init__"], [79, 3, 1, "", "action_type"], [79, 3, 1, "", "mint_time"], [79, 3, 1, "", "trade_amount"], [79, 3, 1, "", "wallet_address"]], "elfpy.types.MarketActionType": [[79, 3, 1, "", "ADD_LIQUIDITY"], [79, 3, 1, "", "CLOSE_LONG"], [79, 3, 1, "", "CLOSE_SHORT"], [79, 3, 1, "", "OPEN_LONG"], [79, 3, 1, "", "OPEN_SHORT"], [79, 3, 1, "", "REMOVE_LIQUIDITY"], [10, 2, 1, "", "__init__"]], "elfpy.types.MarketDeltas": [[11, 2, 1, "", "__init__"], [79, 3, 1, "", "d_base_asset"], [79, 3, 1, "", "d_base_buffer"], [79, 3, 1, "", "d_bond_buffer"], [79, 3, 1, "", "d_lp_reserves"], [79, 3, 1, "", "d_share_price"], [79, 3, 1, "", "d_token_asset"]], "elfpy.types.MarketState": [[12, 2, 1, "", "__init__"], [79, 2, 1, "", "apply_delta"], [79, 3, 1, "", "base_buffer"], [79, 3, 1, "", "bond_buffer"], [79, 3, 1, "", "bond_reserves"], [79, 3, 1, "", "init_share_price"], [79, 3, 1, "", "lp_reserves"], [79, 3, 1, "", "share_price"], [79, 3, 1, "", "share_reserves"], [79, 3, 1, "", "vault_apr"]], "elfpy.types.MarketTradeResult": [[13, 2, 1, "", "__init__"], [79, 3, 1, "", "d_base"], [79, 3, 1, "", "d_bonds"]], "elfpy.types.Quantity": [[14, 2, 1, "", "__init__"], [79, 3, 1, "", "amount"], [79, 3, 1, "", "unit"]], "elfpy.types.RandomSimulationVariables": [[15, 2, 1, "", "__init__"], [79, 3, 1, "", "fee_percent"], [79, 3, 1, "", "init_share_price"], [79, 3, 1, "", "init_vault_age"], [79, 3, 1, "", "target_liquidity"], [79, 3, 1, "", "target_pool_apr"], [79, 3, 1, "", "vault_apr"]], "elfpy.types.SimulationState": [[16, 2, 1, "", "__init__"], [79, 3, 1, "", "base_asset_price"], [79, 3, 1, "", "block_number"], [79, 3, 1, "", "block_timestamp"], [79, 3, 1, "", "current_market_datetime"], [79, 3, 1, "", "current_market_yearfrac"], [79, 3, 1, "", "daily_block_number"], [79, 3, 1, "", "day"], [79, 3, 1, "", "fee_percent"], [79, 3, 1, "", "floor_fee"], [79, 3, 1, "", "init_vault_age"], [79, 3, 1, "", "market_step_size"], [79, 3, 1, "", "model_name"], [79, 3, 1, "", "num_blocks_per_day"], [79, 3, 1, "", "num_trading_days"], [79, 3, 1, "", "pool_apr"], [79, 3, 1, "", "position_duration"], [79, 3, 1, "", "run_number"], [79, 3, 1, "", "run_trade_number"], [79, 3, 1, "", "simulation_start_time"], [79, 3, 1, "", "spot_price"], [79, 3, 1, "", "target_liquidity"], [79, 2, 1, "", "update_agent_wallet"], [79, 2, 1, "", "update_market_state"]], "elfpy.types.StretchedTime": [[17, 2, 1, "", "__init__"], [79, 4, 1, "", "days"], [79, 4, 1, "", "normalized_time"], [79, 4, 1, "", "stretched_time"], [79, 4, 1, "", "time_stretch"]], "elfpy.types.TokenType": [[79, 3, 1, "", "BASE"], [79, 3, 1, "", "PT"], [18, 2, 1, "", "__init__"]], "elfpy.types.TradeBreakdown": [[19, 2, 1, "", "__init__"], [79, 3, 1, "", "fee"], [79, 3, 1, "", "with_fee"], [79, 3, 1, "", "without_fee"], [79, 3, 1, "", "without_fee_or_slippage"]], "elfpy.types.TradeResult": [[20, 2, 1, "", "__init__"], [79, 3, 1, "", "breakdown"], [79, 3, 1, "", "market_result"], [79, 3, 1, "", "user_result"]], "elfpy.utils": [[23, 0, 0, "-", "config"], [30, 0, 0, "-", "outputs"], [45, 0, 0, "-", "parse_config"], [51, 0, 0, "-", "post_processing"], [55, 0, 0, "-", "price"], [58, 0, 0, "-", "sim_utils"], [64, 0, 0, "-", "time"]], "elfpy.utils.config": [[24, 1, 1, "", "AMMConfig"], [25, 1, 1, "", "Config"], [26, 1, 1, "", "MarketConfig"], [27, 1, 1, "", "SimulatorConfig"], [28, 5, 1, "", "get_random_variables"], [29, 5, 1, "", "setup_vault_apr"]], "elfpy.utils.config.AMMConfig": [[24, 2, 1, "", "__init__"], [24, 3, 1, "", "floor_fee"], [24, 3, 1, "", "max_fee"], [24, 3, 1, "", "max_pool_apr"], [24, 3, 1, "", "min_fee"], [24, 3, 1, "", "min_pool_apr"], [24, 3, 1, "", "pricing_model_name"]], "elfpy.utils.config.Config": [[25, 2, 1, "", "__init__"], [25, 3, 1, "", "amm"], [25, 3, 1, "", "market"], [25, 3, 1, "", "simulator"]], "elfpy.utils.config.MarketConfig": [[26, 2, 1, "", "__init__"], [26, 3, 1, "", "base_asset_price"], [26, 3, 1, "", "max_target_liquidity"], [26, 3, 1, "", "max_target_volume"], [26, 3, 1, "", "max_vault_age"], [26, 3, 1, "", "min_target_liquidity"], [26, 3, 1, "", "min_target_volume"], [26, 3, 1, "", "min_vault_age"], [26, 3, 1, "", "vault_apr"]], "elfpy.utils.config.SimulatorConfig": [[27, 2, 1, "", "__init__"], [27, 3, 1, "", "agent_policies"], [27, 3, 1, "", "compound_vault_apr"], [27, 3, 1, "", "init_lp"], [27, 3, 1, "", "init_vault_age"], [27, 3, 1, "", "logging_level"], [27, 3, 1, "", "num_blocks_per_day"], [27, 3, 1, "", "num_trading_days"], [27, 3, 1, "", "precision"], [27, 3, 1, "", "random_seed"], [27, 3, 1, "", "rng"], [27, 3, 1, "", "shuffle_users"], [27, 3, 1, "", "token_duration"]], "elfpy.utils.outputs": [[31, 1, 1, "", "CustomEncoder"], [32, 5, 1, "", "annotate"], [33, 5, 1, "", "clear_axes"], [34, 5, 1, "", "clear_axis"], [35, 5, 1, "", "close_logging"], [36, 5, 1, "", "delete_log_file"], [37, 5, 1, "", "format_axis"], [38, 5, 1, "", "get_gridspec_subplots"], [39, 5, 1, "", "plot_longs_and_shorts"], [40, 5, 1, "", "plot_market_lp_reserves"], [41, 5, 1, "", "plot_market_spot_price"], [42, 5, 1, "", "plot_pool_apr"], [43, 5, 1, "", "plot_wallet_returns"], [44, 5, 1, "", "setup_logging"]], "elfpy.utils.outputs.CustomEncoder": [[31, 2, 1, "", "__init__"], [31, 2, 1, "", "default"], [31, 2, 1, "", "encode"], [31, 3, 1, "", "item_separator"], [31, 2, 1, "", "iterencode"], [31, 3, 1, "", "key_separator"]], "elfpy.utils.parse_config": [[46, 5, 1, "", "load_and_parse_config_file"], [47, 5, 1, "", "load_config_file"], [48, 5, 1, "", "override_config_variables"], [49, 5, 1, "", "parse_simulation_config"], [50, 5, 1, "", "text_to_logging_level"]], "elfpy.utils.post_processing": [[52, 5, 1, "", "aggregate_trade_data"], [53, 5, 1, "", "compute_derived_variables"], [54, 5, 1, "", "get_simulation_state_df"]], "elfpy.utils.price": [[56, 5, 1, "", "calc_apr_from_spot_price"], [57, 5, 1, "", "calc_spot_price_from_apr"]], "elfpy.utils.sim_utils": [[59, 5, 1, "", "get_init_lp_agent"], [60, 5, 1, "", "get_market"], [61, 5, 1, "", "get_pricing_model"], [62, 5, 1, "", "get_simulator"], [63, 5, 1, "", "override_random_variables"]], "elfpy.utils.time": [[65, 5, 1, "", "block_number_to_datetime"], [66, 5, 1, "", "current_datetime"], [67, 5, 1, "", "days_to_time_remaining"], [68, 5, 1, "", "get_yearfrac_remaining"], [69, 5, 1, "", "norm_days"], [70, 5, 1, "", "stretch_time"], [71, 5, 1, "", "time_to_days_remaining"], [72, 5, 1, "", "unnorm_days"], [73, 5, 1, "", "unstretch_time"], [74, 5, 1, "", "yearfrac_as_datetime"]], "elfpy.wallet": [[79, 1, 1, "", "Long"], [79, 1, 1, "", "Short"], [79, 1, 1, "", "Wallet"]], "elfpy.wallet.Long": [[76, 2, 1, "", "__init__"], [79, 3, 1, "", "balance"]], "elfpy.wallet.Short": [[77, 2, 1, "", "__init__"], [79, 3, 1, "", "balance"], [79, 3, 1, "", "margin"]], "elfpy.wallet.Wallet": [[78, 2, 1, "", "__init__"], [79, 3, 1, "", "address"], [79, 3, 1, "", "base"], [79, 3, 1, "", "fees_paid"], [79, 3, 1, "", "longs"], [79, 3, 1, "", "lp_tokens"], [79, 3, 1, "", "shorts"], [79, 4, 1, "", "state"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:property", "5": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "property", "Python property"], "5": ["py", "function", "Python function"]}, "titleterms": {"elfpi": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 80], "agent": [1, 2], "market": [3, 4], "simul": [5, 6], "type": [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21], "agenttraderesult": 8, "marketact": 9, "marketactiontyp": 10, "marketdelta": 11, "marketst": 12, "markettraderesult": 13, "quantiti": 14, "randomsimulationvari": 15, "simulationst": 16, "stretchedtim": 17, "tokentyp": 18, "tradebreakdown": 19, "traderesult": 20, "to_descript": 21, "util": [22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], "config": [23, 24, 25, 26, 27, 28, 29], "ammconfig": 24, "marketconfig": 26, "simulatorconfig": 27, "get_random_vari": 28, "setup_vault_apr": 29, "output": [30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], "customencod": 31, "annot": 32, "clear_ax": 33, "clear_axi": 34, "close_log": 35, "delete_log_fil": 36, "format_axi": 37, "get_gridspec_subplot": 38, "plot_longs_and_short": 39, "plot_market_lp_reserv": 40, "plot_market_spot_pric": 41, "plot_pool_apr": 42, "plot_wallet_return": 43, "setup_log": 44, "parse_config": [45, 46, 47, 48, 49, 50], "load_and_parse_config_fil": 46, "load_config_fil": 47, "override_config_vari": 48, "parse_simulation_config": 49, "text_to_logging_level": 50, "post_process": [51, 52, 53, 54], "aggregate_trade_data": 52, "compute_derived_vari": 53, "get_simulation_state_df": 54, "price": [55, 56, 57], "calc_apr_from_spot_pric": 56, "calc_spot_price_from_apr": 57, "sim_util": [58, 59, 60, 61, 62, 63], "get_init_lp_ag": 59, "get_market": 60, "get_pricing_model": 61, "get_simul": 62, "override_random_vari": 63, "time": [64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74], "block_number_to_datetim": 65, "current_datetim": 66, "days_to_time_remain": 67, "get_yearfrac_remain": 68, "norm_dai": 69, "stretch_tim": 70, "time_to_days_remain": 71, "unnorm_dai": 72, "unstretch_tim": 73, "yearfrac_as_datetim": 74, "wallet": [75, 76, 77, 78], "long": 76, "short": 77, "api": 79, "welcom": 80, "": 80, "document": 80, "indic": 80, "tabl": 80}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 8, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.todo": 2, "nbsphinx": 4, "sphinx": 57}, "alltitles": {"elfpy": [[0, "module-elfpy"]], "elfpy.agent": [[1, "module-elfpy.agent"]], "elfpy.agent.Agent": [[2, "elfpy-agent-agent"]], "elfpy.markets": [[3, "module-elfpy.markets"]], "elfpy.markets.Market": [[4, "elfpy-markets-market"]], "elfpy.simulators": [[5, "module-elfpy.simulators"]], "elfpy.simulators.Simulator": [[6, "elfpy-simulators-simulator"]], "elfpy.types": [[7, "module-elfpy.types"]], "elfpy.types.AgentTradeResult": [[8, "elfpy-types-agenttraderesult"]], "elfpy.types.MarketAction": [[9, "elfpy-types-marketaction"]], "elfpy.types.MarketActionType": [[10, "elfpy-types-marketactiontype"]], "elfpy.types.MarketDeltas": [[11, "elfpy-types-marketdeltas"]], "elfpy.types.MarketState": [[12, "elfpy-types-marketstate"]], "elfpy.types.MarketTradeResult": [[13, "elfpy-types-markettraderesult"]], "elfpy.types.Quantity": [[14, "elfpy-types-quantity"]], "elfpy.types.RandomSimulationVariables": [[15, "elfpy-types-randomsimulationvariables"]], "elfpy.types.SimulationState": [[16, "elfpy-types-simulationstate"]], "elfpy.types.StretchedTime": [[17, "elfpy-types-stretchedtime"]], "elfpy.types.TokenType": [[18, "elfpy-types-tokentype"]], "elfpy.types.TradeBreakdown": [[19, "elfpy-types-tradebreakdown"]], "elfpy.types.TradeResult": [[20, "elfpy-types-traderesult"]], "elfpy.types.to_description": [[21, "elfpy-types-to-description"]], "elfpy.utils": [[22, "module-elfpy.utils"]], "elfpy.utils.config": [[23, "module-elfpy.utils.config"]], "elfpy.utils.config.AMMConfig": [[24, "elfpy-utils-config-ammconfig"]], "elfpy.utils.config.Config": [[25, "elfpy-utils-config-config"]], "elfpy.utils.config.MarketConfig": [[26, "elfpy-utils-config-marketconfig"]], "elfpy.utils.config.SimulatorConfig": [[27, "elfpy-utils-config-simulatorconfig"]], "elfpy.utils.config.get_random_variables": [[28, "elfpy-utils-config-get-random-variables"]], "elfpy.utils.config.setup_vault_apr": [[29, "elfpy-utils-config-setup-vault-apr"]], "elfpy.utils.outputs": [[30, "module-elfpy.utils.outputs"]], "elfpy.utils.outputs.CustomEncoder": [[31, "elfpy-utils-outputs-customencoder"]], "elfpy.utils.outputs.annotate": [[32, "elfpy-utils-outputs-annotate"]], "elfpy.utils.outputs.clear_axes": [[33, "elfpy-utils-outputs-clear-axes"]], "elfpy.utils.outputs.clear_axis": [[34, "elfpy-utils-outputs-clear-axis"]], "elfpy.utils.outputs.close_logging": [[35, "elfpy-utils-outputs-close-logging"]], "elfpy.utils.outputs.delete_log_file": [[36, "elfpy-utils-outputs-delete-log-file"]], "elfpy.utils.outputs.format_axis": [[37, "elfpy-utils-outputs-format-axis"]], "elfpy.utils.outputs.get_gridspec_subplots": [[38, "elfpy-utils-outputs-get-gridspec-subplots"]], "elfpy.utils.outputs.plot_longs_and_shorts": [[39, "elfpy-utils-outputs-plot-longs-and-shorts"]], "elfpy.utils.outputs.plot_market_lp_reserves": [[40, "elfpy-utils-outputs-plot-market-lp-reserves"]], "elfpy.utils.outputs.plot_market_spot_price": [[41, "elfpy-utils-outputs-plot-market-spot-price"]], "elfpy.utils.outputs.plot_pool_apr": [[42, "elfpy-utils-outputs-plot-pool-apr"]], "elfpy.utils.outputs.plot_wallet_returns": [[43, "elfpy-utils-outputs-plot-wallet-returns"]], "elfpy.utils.outputs.setup_logging": [[44, "elfpy-utils-outputs-setup-logging"]], "elfpy.utils.parse_config": [[45, "module-elfpy.utils.parse_config"]], "elfpy.utils.parse_config.load_and_parse_config_file": [[46, "elfpy-utils-parse-config-load-and-parse-config-file"]], "elfpy.utils.parse_config.load_config_file": [[47, "elfpy-utils-parse-config-load-config-file"]], "elfpy.utils.parse_config.override_config_variables": [[48, "elfpy-utils-parse-config-override-config-variables"]], "elfpy.utils.parse_config.parse_simulation_config": [[49, "elfpy-utils-parse-config-parse-simulation-config"]], "elfpy.utils.parse_config.text_to_logging_level": [[50, "elfpy-utils-parse-config-text-to-logging-level"]], "elfpy.utils.post_processing": [[51, "module-elfpy.utils.post_processing"]], "elfpy.utils.post_processing.aggregate_trade_data": [[52, "elfpy-utils-post-processing-aggregate-trade-data"]], "elfpy.utils.post_processing.compute_derived_variables": [[53, "elfpy-utils-post-processing-compute-derived-variables"]], "elfpy.utils.post_processing.get_simulation_state_df": [[54, "elfpy-utils-post-processing-get-simulation-state-df"]], "elfpy.utils.price": [[55, "module-elfpy.utils.price"]], "elfpy.utils.price.calc_apr_from_spot_price": [[56, "elfpy-utils-price-calc-apr-from-spot-price"]], "elfpy.utils.price.calc_spot_price_from_apr": [[57, "elfpy-utils-price-calc-spot-price-from-apr"]], "elfpy.utils.sim_utils": [[58, "module-elfpy.utils.sim_utils"]], "elfpy.utils.sim_utils.get_init_lp_agent": [[59, "elfpy-utils-sim-utils-get-init-lp-agent"]], "elfpy.utils.sim_utils.get_market": [[60, "elfpy-utils-sim-utils-get-market"]], "elfpy.utils.sim_utils.get_pricing_model": [[61, "elfpy-utils-sim-utils-get-pricing-model"]], "elfpy.utils.sim_utils.get_simulator": [[62, "elfpy-utils-sim-utils-get-simulator"]], "elfpy.utils.sim_utils.override_random_variables": [[63, "elfpy-utils-sim-utils-override-random-variables"]], "elfpy.utils.time": [[64, "module-elfpy.utils.time"]], "elfpy.utils.time.block_number_to_datetime": [[65, "elfpy-utils-time-block-number-to-datetime"]], "elfpy.utils.time.current_datetime": [[66, "elfpy-utils-time-current-datetime"]], "elfpy.utils.time.days_to_time_remaining": [[67, "elfpy-utils-time-days-to-time-remaining"]], "elfpy.utils.time.get_yearfrac_remaining": [[68, "elfpy-utils-time-get-yearfrac-remaining"]], "elfpy.utils.time.norm_days": [[69, "elfpy-utils-time-norm-days"]], "elfpy.utils.time.stretch_time": [[70, "elfpy-utils-time-stretch-time"]], "elfpy.utils.time.time_to_days_remaining": [[71, "elfpy-utils-time-time-to-days-remaining"]], "elfpy.utils.time.unnorm_days": [[72, "elfpy-utils-time-unnorm-days"]], "elfpy.utils.time.unstretch_time": [[73, "elfpy-utils-time-unstretch-time"]], "elfpy.utils.time.yearfrac_as_datetime": [[74, "elfpy-utils-time-yearfrac-as-datetime"]], "elfpy.wallet": [[75, "module-elfpy.wallet"]], "elfpy.wallet.Long": [[76, "elfpy-wallet-long"]], "elfpy.wallet.Short": [[77, "elfpy-wallet-short"]], "elfpy.wallet.Wallet": [[78, "elfpy-wallet-wallet"]], "Welcome to elfpy\u2019s documentation!": [[80, "welcome-to-elfpy-s-documentation"]], "Indices and tables": [[80, "indices-and-tables"]], "API": [[79, "module-elfpy.agent"]]}, "indexentries": {"add_liquidity (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.ADD_LIQUIDITY"]], "agent (class in elfpy.agent)": [[79, "elfpy.agent.Agent"]], "agenttraderesult (class in elfpy.types)": [[79, "elfpy.types.AgentTradeResult"]], "base (elfpy.types.tokentype attribute)": [[79, "elfpy.types.TokenType.BASE"]], "close_long (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.CLOSE_LONG"]], "close_short (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.CLOSE_SHORT"]], "long (class in elfpy.wallet)": [[79, "elfpy.wallet.Long"]], "market (class in elfpy.markets)": [[79, "elfpy.markets.Market"]], "marketaction (class in elfpy.types)": [[79, "elfpy.types.MarketAction"]], "marketactiontype (class in elfpy.types)": [[79, "elfpy.types.MarketActionType"]], "marketdeltas (class in elfpy.types)": [[79, "elfpy.types.MarketDeltas"]], "marketstate (class in elfpy.types)": [[79, "elfpy.types.MarketState"]], "markettraderesult (class in elfpy.types)": [[79, "elfpy.types.MarketTradeResult"]], "open_long (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.OPEN_LONG"]], "open_short (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.OPEN_SHORT"]], "pt (elfpy.types.tokentype attribute)": [[79, "elfpy.types.TokenType.PT"]], "quantity (class in elfpy.types)": [[79, "elfpy.types.Quantity"]], "remove_liquidity (elfpy.types.marketactiontype attribute)": [[79, "elfpy.types.MarketActionType.REMOVE_LIQUIDITY"]], "randomsimulationvariables (class in elfpy.types)": [[79, "elfpy.types.RandomSimulationVariables"]], "short (class in elfpy.wallet)": [[79, "elfpy.wallet.Short"]], "simulationstate (class in elfpy.types)": [[79, "elfpy.types.SimulationState"]], "simulator (class in elfpy.simulators)": [[79, "elfpy.simulators.Simulator"]], "stretchedtime (class in elfpy.types)": [[79, "elfpy.types.StretchedTime"]], "tokentype (class in elfpy.types)": [[79, "elfpy.types.TokenType"]], "tradebreakdown (class in elfpy.types)": [[79, "elfpy.types.TradeBreakdown"]], "traderesult (class in elfpy.types)": [[79, "elfpy.types.TradeResult"]], "wallet (class in elfpy.wallet)": [[79, "elfpy.wallet.Wallet"]], "action() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.action"], [79, "id1"]], "action_type (elfpy.types.marketaction attribute)": [[79, "elfpy.types.MarketAction.action_type"]], "add_agents() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.add_agents"]], "add_liquidity() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.add_liquidity"]], "address (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.address"]], "amount (elfpy.types.quantity attribute)": [[79, "elfpy.types.Quantity.amount"]], "apply_delta() (elfpy.types.marketstate method)": [[79, "elfpy.types.MarketState.apply_delta"]], "balance (elfpy.wallet.long attribute)": [[79, "elfpy.wallet.Long.balance"]], "balance (elfpy.wallet.short attribute)": [[79, "elfpy.wallet.Short.balance"]], "base (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.base"]], "base_asset_price (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.base_asset_price"]], "base_buffer (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.base_buffer"]], "block_number (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.block_number"]], "block_timestamp (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.block_timestamp"]], "bond_buffer (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.bond_buffer"]], "bond_reserves (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.bond_reserves"]], "breakdown (elfpy.types.traderesult attribute)": [[79, "elfpy.types.TradeResult.breakdown"]], "budget (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.budget"]], "check_action_type() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.check_action_type"]], "check_vault_apr() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.check_vault_apr"]], "close_long() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.close_long"]], "close_short() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.close_short"]], "collect_and_execute_trades() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.collect_and_execute_trades"]], "collect_liquidation_trades() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.collect_liquidation_trades"]], "collect_trades() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.collect_trades"]], "create_agent_action() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.create_agent_action"], [79, "id0"]], "current_market_datetime (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.current_market_datetime"]], "current_market_yearfrac (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.current_market_yearfrac"]], "d_base (elfpy.types.agenttraderesult attribute)": [[79, "elfpy.types.AgentTradeResult.d_base"]], "d_base (elfpy.types.markettraderesult attribute)": [[79, "elfpy.types.MarketTradeResult.d_base"]], "d_base_asset (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_base_asset"]], "d_base_buffer (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_base_buffer"]], "d_bond_buffer (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_bond_buffer"]], "d_bonds (elfpy.types.agenttraderesult attribute)": [[79, "elfpy.types.AgentTradeResult.d_bonds"]], "d_bonds (elfpy.types.markettraderesult attribute)": [[79, "elfpy.types.MarketTradeResult.d_bonds"]], "d_lp_reserves (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_lp_reserves"]], "d_share_price (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_share_price"]], "d_token_asset (elfpy.types.marketdeltas attribute)": [[79, "elfpy.types.MarketDeltas.d_token_asset"]], "daily_block_number (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.daily_block_number"]], "day (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.day"]], "days (elfpy.types.stretchedtime property)": [[79, "elfpy.types.StretchedTime.days"]], "elfpy.agent": [[79, "module-elfpy.agent"]], "elfpy.markets": [[79, "module-elfpy.markets"]], "elfpy.simulators": [[79, "module-elfpy.simulators"]], "elfpy.types": [[79, "module-elfpy.types"]], "elfpy.utils": [[79, "module-elfpy.utils"]], "elfpy.wallet": [[79, "module-elfpy.wallet"]], "execute_trades() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.execute_trades"]], "fee (elfpy.types.tradebreakdown attribute)": [[79, "elfpy.types.TradeBreakdown.fee"]], "fee_percent (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.fee_percent"]], "fee_percent (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.fee_percent"]], "fees_paid (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.fees_paid"]], "floor_fee (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.floor_fee"]], "get_liquidation_trades() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.get_liquidation_trades"], [79, "id5"]], "get_market_state_string() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.get_market_state_string"]], "get_max_long() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.get_max_long"], [79, "id2"]], "get_max_short() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.get_max_short"], [79, "id3"]], "get_simulation_state_string() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.get_simulation_state_string"]], "get_trade_list() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.get_trade_list"]], "get_trades() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.get_trades"]], "init_share_price (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.init_share_price"]], "init_share_price (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.init_share_price"]], "init_vault_age (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.init_vault_age"]], "init_vault_age (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.init_vault_age"]], "last_update_spend (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.last_update_spend"]], "log_config_variables() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.log_config_variables"]], "log_final_report() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.log_final_report"], [79, "id7"]], "log_market_step_string() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.log_market_step_string"]], "log_status_report() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.log_status_report"], [79, "id6"]], "longs (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.longs"]], "lp_reserves (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.lp_reserves"]], "lp_tokens (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.lp_tokens"]], "margin (elfpy.wallet.short attribute)": [[79, "elfpy.wallet.Short.margin"]], "market (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.market"]], "market_result (elfpy.types.traderesult attribute)": [[79, "elfpy.types.TradeResult.market_result"]], "market_step_size (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.market_step_size"]], "market_step_size() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.market_step_size"]], "mint_time (elfpy.types.marketaction attribute)": [[79, "elfpy.types.MarketAction.mint_time"]], "model_name (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.model_name"]], "module": [[79, "module-elfpy.agent"], [79, "module-elfpy.markets"], [79, "module-elfpy.simulators"], [79, "module-elfpy.types"], [79, "module-elfpy.utils"], [79, "module-elfpy.wallet"]], "normalized_time (elfpy.types.stretchedtime property)": [[79, "elfpy.types.StretchedTime.normalized_time"]], "num_blocks_per_day (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.num_blocks_per_day"]], "num_trading_days (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.num_trading_days"]], "open_long() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.open_long"]], "open_short() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.open_short"]], "pool_apr (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.pool_apr"]], "position_duration (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.position_duration"]], "product_of_time_and_base (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.product_of_time_and_base"]], "rate (elfpy.markets.market property)": [[79, "elfpy.markets.Market.rate"]], "remove_liquidity() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.remove_liquidity"]], "rng (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.rng"]], "run_number (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.run_number"]], "run_simulation() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.run_simulation"]], "run_trade_number (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.run_trade_number"]], "set_rng() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.set_rng"]], "share_price (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.share_price"]], "share_reserves (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.share_reserves"]], "shorts (elfpy.wallet.wallet attribute)": [[79, "elfpy.wallet.Wallet.shorts"]], "simulation_start_time (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.simulation_start_time"]], "spot_price (elfpy.markets.market property)": [[79, "elfpy.markets.Market.spot_price"]], "spot_price (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.spot_price"]], "state (elfpy.wallet.wallet property)": [[79, "elfpy.wallet.Wallet.state"]], "stretched_time (elfpy.types.stretchedtime property)": [[79, "elfpy.types.StretchedTime.stretched_time"]], "target_liquidity (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.target_liquidity"]], "target_liquidity (elfpy.types.simulationstate attribute)": [[79, "elfpy.types.SimulationState.target_liquidity"]], "target_pool_apr (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.target_pool_apr"]], "tick() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.tick"]], "time_stretch (elfpy.types.stretchedtime property)": [[79, "elfpy.types.StretchedTime.time_stretch"]], "to_description() (in module elfpy.types)": [[79, "elfpy.types.to_description"]], "trade_amount (elfpy.types.marketaction attribute)": [[79, "elfpy.types.MarketAction.trade_amount"]], "trade_and_update() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.trade_and_update"]], "unit (elfpy.types.quantity attribute)": [[79, "elfpy.types.Quantity.unit"]], "update_agent_wallet() (elfpy.types.simulationstate method)": [[79, "elfpy.types.SimulationState.update_agent_wallet"]], "update_market() (elfpy.markets.market method)": [[79, "elfpy.markets.Market.update_market"]], "update_market_state() (elfpy.types.simulationstate method)": [[79, "elfpy.types.SimulationState.update_market_state"]], "update_simulation_state() (elfpy.simulators.simulator method)": [[79, "elfpy.simulators.Simulator.update_simulation_state"]], "update_spend() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.update_spend"]], "update_wallet() (elfpy.agent.agent method)": [[79, "elfpy.agent.Agent.update_wallet"], [79, "id4"]], "user_result (elfpy.types.traderesult attribute)": [[79, "elfpy.types.TradeResult.user_result"]], "vault_apr (elfpy.types.marketstate attribute)": [[79, "elfpy.types.MarketState.vault_apr"]], "vault_apr (elfpy.types.randomsimulationvariables attribute)": [[79, "elfpy.types.RandomSimulationVariables.vault_apr"]], "wallet (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.wallet"]], "wallet_address (elfpy.agent.agent attribute)": [[79, "elfpy.agent.Agent.wallet_address"]], "wallet_address (elfpy.types.marketaction attribute)": [[79, "elfpy.types.MarketAction.wallet_address"]], "with_fee (elfpy.types.tradebreakdown attribute)": [[79, "elfpy.types.TradeBreakdown.with_fee"]], "without_fee (elfpy.types.tradebreakdown attribute)": [[79, "elfpy.types.TradeBreakdown.without_fee"]], "without_fee_or_slippage (elfpy.types.tradebreakdown attribute)": [[79, "elfpy.types.TradeBreakdown.without_fee_or_slippage"]]}})