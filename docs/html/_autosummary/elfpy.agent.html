
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>elfpy.agent &#8212; elfpy v0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="elfpy.agent.Agent" href="elfpy.agent.Agent.html" />
    <link rel="prev" title="elfpy" href="elfpy.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-elfpy.agent">
<span id="elfpy-agent"></span><h1>elfpy.agent<a class="headerlink" href="#module-elfpy.agent" title="Permalink to this heading">¶</a></h1>
<p>Implements abstract classes that control agent behavior</p>
<p class="rubric">Classes</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#elfpy.agent.Agent" title="elfpy.agent.Agent"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Agent</span></code></a>(wallet_address, budget)</p></td>
<td><p>Agent class for conducting trades on the market</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt class="sig sig-object py" id="elfpy.agent.Agent">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">elfpy.agent.</span></span><span class="sig-name descname"><span class="pre">Agent</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wallet_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">budget</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elfpy.agent.Agent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Agent class for conducting trades on the market</p>
<p>Implements a class that controls agent behavior agent has a budget that is a dict, keyed with a
date value is an inte with how many tokens they have for that date.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.market">
<span class="sig-name descname"><span class="pre">market</span></span><a class="headerlink" href="#elfpy.agent.Agent.market" title="Permalink to this definition">¶</a></dt>
<dd><p>Market object that this Agent will be trading on.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market">elfpy.markets.Market</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.rng">
<span class="sig-name descname"><span class="pre">rng</span></span><a class="headerlink" href="#elfpy.agent.Agent.rng" title="Permalink to this definition">¶</a></dt>
<dd><p>Random number generator used for various simulation functions</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>numpy.random._generator.Generator</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.wallet_address">
<span class="sig-name descname"><span class="pre">wallet_address</span></span><a class="headerlink" href="#elfpy.agent.Agent.wallet_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Random ID used to identify this specific agent in the simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.budget">
<span class="sig-name descname"><span class="pre">budget</span></span><a class="headerlink" href="#elfpy.agent.Agent.budget" title="Permalink to this definition">¶</a></dt>
<dd><p>Amount of assets that this agent has available for spending in the simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.last_update_spend">
<span class="sig-name descname"><span class="pre">last_update_spend</span></span><a class="headerlink" href="#elfpy.agent.Agent.last_update_spend" title="Permalink to this definition">¶</a></dt>
<dd><p>Time relative to the market, in yearfracs, when this agent last made a trade. This is used to track PnL</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.product_of_time_and_base">
<span class="sig-name descname"><span class="pre">product_of_time_and_base</span></span><a class="headerlink" href="#elfpy.agent.Agent.product_of_time_and_base" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper attribute used to track how an agent spends their assets over time</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="elfpy.agent.Agent.wallet">
<span class="sig-name descname"><span class="pre">wallet</span></span><a class="headerlink" href="#elfpy.agent.Agent.wallet" title="Permalink to this definition">¶</a></dt>
<dd><p>Wallet object which tracks the agent’s asset balances</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#elfpy.wallet.Wallet" title="elfpy.wallet.Wallet">elfpy.wallet.Wallet</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.create_agent_action">
<span class="sig-name descname"><span class="pre">create_agent_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.types.MarketActionType" title="elfpy.types.MarketActionType"><span class="pre">MarketActionType</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_amount</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mint_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction"><span class="pre">MarketAction</span></a></span></span><a class="headerlink" href="#elfpy.agent.Agent.create_agent_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a MarketAction object which represents a trade that this agent can make</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.action">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction"><span class="pre">MarketAction</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#elfpy.agent.Agent.action" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the MarketAction implemented by a specific policy</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.get_max_long">
<span class="sig-name descname"><span class="pre">get_max_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.get_max_long" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an approximation of the maximum amoun of base that the agent can long given current market conditions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.get_max_short">
<span class="sig-name descname"><span class="pre">get_max_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">float</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.get_max_short" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an approximation of the maximum amount of base that the agent can short given current market conditions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.get_trade_list">
<span class="sig-name descname"><span class="pre">get_trade_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction"><span class="pre">MarketAction</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#elfpy.agent.Agent.get_trade_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for computing a agent trade</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.update_spend">
<span class="sig-name descname"><span class="pre">update_spend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.update_spend" title="Permalink to this definition">¶</a></dt>
<dd><p>Track over time the agent’s weighted average spend, for return calculation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.update_wallet">
<span class="sig-name descname"><span class="pre">update_wallet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wallet_deltas</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.wallet.Wallet" title="elfpy.wallet.Wallet"><span class="pre">Wallet</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.update_wallet" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the agent’s wallet</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.get_liquidation_trades">
<span class="sig-name descname"><span class="pre">get_liquidation_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction"><span class="pre">MarketAction</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#elfpy.agent.Agent.get_liquidation_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Get final trades for liquidating positions</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.log_status_report">
<span class="sig-name descname"><span class="pre">log_status_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.log_status_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs user state</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.log_final_report">
<span class="sig-name descname"><span class="pre">log_final_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><span class="pre">Market</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#elfpy.agent.Agent.log_final_report" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs a report of the agent’s state</p>
</dd></dl>

<p class="rubric">Methods</p>
<table class="autosummary longtable docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#id1" title="elfpy.agent.Agent.action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">action</span></code></a>(market)</p></td>
<td><p>Abstract method meant to be implemented by the specific policy</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api.html#id0" title="elfpy.agent.Agent.create_agent_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">create_agent_action</span></code></a>(action_type, trade_amount)</p></td>
<td><p>Creates and returns a MarketAction object which represents a trade that this agent can make</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#id5" title="elfpy.agent.Agent.get_liquidation_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_liquidation_trades</span></code></a>(market)</p></td>
<td><p>Get final trades for liquidating positions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api.html#id2" title="elfpy.agent.Agent.get_max_long"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_max_long</span></code></a>(market)</p></td>
<td><p>Gets an approximation of the maximum amount of base the agent can use</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#id3" title="elfpy.agent.Agent.get_max_short"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_max_short</span></code></a>(market)</p></td>
<td><p>Gets an approximation of the maximum amount of bonds the agent can short.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api.html#elfpy.agent.Agent.get_trades" title="elfpy.agent.Agent.get_trades"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_trades</span></code></a>(market)</p></td>
<td><p>Helper function for computing a agent trade</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#id7" title="elfpy.agent.Agent.log_final_report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_final_report</span></code></a>(market)</p></td>
<td><p>Logs a report of the agent's state</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="../api.html#id6" title="elfpy.agent.Agent.log_status_report"><code class="xref py py-obj docutils literal notranslate"><span class="pre">log_status_report</span></code></a>()</p></td>
<td><p>Logs the current user state</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="../api.html#id4" title="elfpy.agent.Agent.update_wallet"><code class="xref py py-obj docutils literal notranslate"><span class="pre">update_wallet</span></code></a>(wallet_deltas, market)</p></td>
<td><p>Update the agent's wallet</p></td>
</tr>
</tbody>
</table>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wallet_address</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – </p></li>
<li><p><strong>budget</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">create_agent_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">trade_amount</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mint_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a MarketAction object which represents a trade that this agent can make</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action_type</strong> (<a class="reference internal" href="../api.html#elfpy.types.MarketActionType" title="elfpy.types.MarketActionType"><em>MarketActionType</em></a>) – Type of action this function will execute. Must be one of the supported MarketActionTypes</p></li>
<li><p><strong>trade_amount</strong> (<em>float</em>) – Amount of assets that the agent will trade</p></li>
<li><p><strong>mint_time</strong> (<em>float</em>) – Time relative to the market at which the tokens relevant to this trade were minted, in yearfracs</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The MarketAction object that contains the details about the action to execute in the market</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction">MarketAction</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id1">
<span class="sig-name descname"><span class="pre">action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract method meant to be implemented by the specific policy</p>
<p>Specify action from the policy</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades (MarketActions)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of actions to execute in the market</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction">MarketAction</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id2">
<span class="sig-name descname"><span class="pre">get_max_long</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an approximation of the maximum amount of base the agent can use</p>
<p>Typically would be called to determine how much to enter into a long position.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades (MarketActions)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Maximum amount the agent can use to open a long</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id3">
<span class="sig-name descname"><span class="pre">get_max_short</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an approximation of the maximum amount of bonds the agent can short.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades (MarketActions)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Amount of base that the agent can short in the current market</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="elfpy.agent.Agent.get_trades">
<span class="sig-name descname"><span class="pre">get_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#elfpy.agent.Agent.get_trades" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function for computing a agent trade</p>
<dl class="simple">
<dt>direction is chosen based on this logic:</dt><dd><p>when entering a trade (open long or short),
we use calcOutGivenIn because we know how much we want to spend,
and care less about how much we get for it.
when exiting a trade (close long or short),
we use calcInGivenOut because we know how much we want to get,
and care less about how much we have to spend.
we spend what we have to spend, and get what we get.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades (MarketActions)</p></li>
<li><p><strong>pricing_model</strong> (<em>PricingModel</em>) – The pricing model in use for this simulated market</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of MarketAction objects that represent the trades to be made by this agent</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id4">
<span class="sig-name descname"><span class="pre">update_wallet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wallet_deltas</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the agent’s wallet</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wallet_deltas</strong> (<a class="reference internal" href="../api.html#elfpy.wallet.Wallet" title="elfpy.wallet.Wallet"><em>Wallet</em></a>) – The agent’s wallet that tracks the amount of assets this agent holds</p></li>
<li><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades (MarketActions)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>This method has no returns. It updates the Agent’s Wallet according to the passed parameters</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id5">
<span class="sig-name descname"><span class="pre">get_liquidation_trades</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd><p>Get final trades for liquidating positions</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent will be executing trades or liquidations (MarketActions)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of trades to execute in order to liquidate positions where applicable</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list[<a class="reference internal" href="../api.html#elfpy.types.MarketAction" title="elfpy.types.MarketAction">MarketAction</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id6">
<span class="sig-name descname"><span class="pre">log_status_report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs the current user state</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">log_final_report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">market</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>Logs a report of the agent’s state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>market</strong> (<a class="reference internal" href="../api.html#elfpy.markets.Market" title="elfpy.markets.Market"><em>Market</em></a>) – The market on which this agent can execute trades (MarketActions)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">elfpy</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="elfpy.html">elfpy</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">elfpy.agent</a><ul>
<li class="toctree-l3"><a class="reference internal" href="elfpy.agent.Agent.html">elfpy.agent.Agent</a></li>
<li class="toctree-l3"><a class="reference internal" href="#elfpy.agent.Agent"><code class="docutils literal notranslate"><span class="pre">Agent</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.market"><code class="docutils literal notranslate"><span class="pre">Agent.market</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.rng"><code class="docutils literal notranslate"><span class="pre">Agent.rng</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.wallet_address"><code class="docutils literal notranslate"><span class="pre">Agent.wallet_address</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.budget"><code class="docutils literal notranslate"><span class="pre">Agent.budget</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.last_update_spend"><code class="docutils literal notranslate"><span class="pre">Agent.last_update_spend</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.product_of_time_and_base"><code class="docutils literal notranslate"><span class="pre">Agent.product_of_time_and_base</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.wallet"><code class="docutils literal notranslate"><span class="pre">Agent.wallet</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.create_agent_action"><code class="docutils literal notranslate"><span class="pre">Agent.create_agent_action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.action"><code class="docutils literal notranslate"><span class="pre">Agent.action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.get_max_long"><code class="docutils literal notranslate"><span class="pre">Agent.get_max_long()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.get_max_short"><code class="docutils literal notranslate"><span class="pre">Agent.get_max_short()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.get_trade_list"><code class="docutils literal notranslate"><span class="pre">Agent.get_trade_list()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.update_spend"><code class="docutils literal notranslate"><span class="pre">Agent.update_spend()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.update_wallet"><code class="docutils literal notranslate"><span class="pre">Agent.update_wallet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.get_liquidation_trades"><code class="docutils literal notranslate"><span class="pre">Agent.get_liquidation_trades()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.log_status_report"><code class="docutils literal notranslate"><span class="pre">Agent.log_status_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.log_final_report"><code class="docutils literal notranslate"><span class="pre">Agent.log_final_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id0"><code class="docutils literal notranslate"><span class="pre">Agent.create_agent_action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1"><code class="docutils literal notranslate"><span class="pre">Agent.action()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2"><code class="docutils literal notranslate"><span class="pre">Agent.get_max_long()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3"><code class="docutils literal notranslate"><span class="pre">Agent.get_max_short()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#elfpy.agent.Agent.get_trades"><code class="docutils literal notranslate"><span class="pre">Agent.get_trades()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4"><code class="docutils literal notranslate"><span class="pre">Agent.update_wallet()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5"><code class="docutils literal notranslate"><span class="pre">Agent.get_liquidation_trades()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6"><code class="docutils literal notranslate"><span class="pre">Agent.log_status_report()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7"><code class="docutils literal notranslate"><span class="pre">Agent.log_final_report()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="elfpy.markets.html">elfpy.markets</a></li>
<li class="toctree-l2"><a class="reference internal" href="elfpy.simulators.html">elfpy.simulators</a></li>
<li class="toctree-l2"><a class="reference internal" href="elfpy.types.html">elfpy.types</a></li>
<li class="toctree-l2"><a class="reference internal" href="elfpy.utils.html">elfpy.utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="elfpy.wallet.html">elfpy.wallet</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="elfpy.html">elfpy</a><ul>
      <li>Previous: <a href="elfpy.html" title="previous chapter">elfpy</a></li>
      <li>Next: <a href="elfpy.agent.Agent.html" title="next chapter">elfpy.agent.Agent</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; 2023, Element Finance.
      
      |
      <a href="../_sources/_autosummary/elfpy.agent.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>